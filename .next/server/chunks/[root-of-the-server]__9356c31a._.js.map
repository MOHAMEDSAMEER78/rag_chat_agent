{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///Users/msameem/Dev/personal/sameer/rag_chat_agent/app/api/check-chroma/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\n\nexport async function GET() {\n  try {\n    const chromaUrl = process.env.CHROMA_URL || 'http://localhost:8000';\n    console.log('Server checking Chroma at:', chromaUrl);\n    \n    // Use node-fetch on the server side\n    const response = await fetch(`${chromaUrl}/api/v2/heartbeat`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n      },\n      // No AbortSignal.timeout in Node.js fetch, so use a simpler timeout\n      signal: AbortSignal.timeout(3000),\n    });\n    \n    console.log('Chroma server response status:', response.status);\n    \n    if (response.ok) {\n      const responseText = await response.text();\n      console.log('Chroma server response text:', responseText);\n      \n      // Check if the response contains heartbeat data\n      if (responseText.includes('heartbeat')) {\n        return NextResponse.json({ available: true, message: 'Chroma is available' });\n      }\n    }\n    \n    return NextResponse.json({ \n      available: false, \n      message: 'Chroma returned a response but it does not appear to be valid' \n    });\n  } catch (error) {\n    console.error('Server-side error checking Chroma:', error);\n    return NextResponse.json({ \n      available: false, \n      message: `Error connecting to Chroma: ${error instanceof Error ? error.message : String(error)}` \n    });\n  }\n} "],"names":[],"mappings":";;;AAAA;;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,YAAY,QAAQ,GAAG,CAAC,UAAU,IAAI;QAC5C,QAAQ,GAAG,CAAC,8BAA8B;QAE1C,oCAAoC;QACpC,MAAM,WAAW,MAAM,MAAM,GAAG,UAAU,iBAAiB,CAAC,EAAE;YAC5D,QAAQ;YACR,SAAS;gBACP,UAAU;YACZ;YACA,oEAAoE;YACpE,QAAQ,YAAY,OAAO,CAAC;QAC9B;QAEA,QAAQ,GAAG,CAAC,kCAAkC,SAAS,MAAM;QAE7D,IAAI,SAAS,EAAE,EAAE;YACf,MAAM,eAAe,MAAM,SAAS,IAAI;YACxC,QAAQ,GAAG,CAAC,gCAAgC;YAE5C,gDAAgD;YAChD,IAAI,aAAa,QAAQ,CAAC,cAAc;gBACtC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;oBAAE,WAAW;oBAAM,SAAS;gBAAsB;YAC7E;QACF;QAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YACvB,WAAW;YACX,SAAS;QACX;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,sCAAsC;QACpD,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YACvB,WAAW;YACX,SAAS,CAAC,4BAA4B,EAAE,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO,QAAQ;QAClG;IACF;AACF","debugId":null}}]
}